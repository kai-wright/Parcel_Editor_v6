<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="SCSS/style.scss" />
		<script src="TS/index.ts" type="module" defer></script>
		<title>Parcel Editor</title>
	</head>
	<body>
		<header>
			<img src="package.svg" alt="Symbol of a sealed cardboard box" />
			<h1>Parcel Editor</h1>
			<h2>Version 6.0.0</h2>
		</header>
		<main>
			<div id="parcel_select">
				<div>
					<div id="parcel_list">
						<!-- Buttons go here! -->
					</div>
				</div>
				<div id="parcel_add">
					<select name="type" id="parcel_add_type">
						<option value="resource">resource:</option>
						<option value="structure">structure:</option>
						<option value="research">research:</option>
						<option value="unique">unique:</option>
					</select>
					<input type="text" placeholder="id" pattern="[a-z]([a-z_]*[a-z])" id="parcel_add_id" />
					<button id="parcel_add_button">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="feather feather-chevrons-right">
							<polyline points="13 17 18 12 13 7"></polyline>
							<polyline points="6 17 11 12 6 7"></polyline>
						</svg>
					</button>
				</div>
			</div>
			<div>
				<div id="parcel_edit"></div>
			</div>
			<div>
				<div id="parcel_interaction_list"></div>
			</div>
			<div>
				<div id="parcel_interaction_edit"></div>
			</div>
			<div>
				<div id="parcel_interaction_set"></div>
			</div>
		</main>
		<aside>
			<button id="toggle_info" onclick="toggleInfo()">?</button>
			<div id="info">
				<p>
					Welcome to Parcel Editor Version 6.0.0! This guide explains how to use the tool. Before proceeding, please
					<button class="fake_link" onclick="window.open('https://shattereddisk.github.io/rickroll/rickroll.mp4')">
						click here
					</button>
					to ensure the blank database is loaded. <br />
					<br />
					Standard buttons are usually unstyled. However, when a button is invalid, it will match the styling of inputs.<br />
					If an input is invalid or a button containing a menu with an invalid input, the element will turn red. If the user is
					hovering over or interacting with the element, it will display a warning yellow color. Once the input or button
					properties are valid, it will turn green.<br />
					Invalid elements will not be saved to the main object, meaning they will not be stored. Elements with a warning (such as
					objects where the values are valid but the intended purpose may not be met) will still be saved.<br />
					Buttons navigate to each sub-property of the loaded parcel. Some properties can have an unlimited number of
					sub-properties (e.g., multiple methods to buy, sell, craft, or create a parcel). For these, there will be an additional
					button to create new sub-properties, along with a delete button.<br />
					<br />
					Please note: Deletion is permanent and cannot be undone! BE CAREFUL!<br />
					<button id="deleteAllButton" onclick="deleteAllLocalStorage()">DELETE ALL ENTRIES</button>
				</p>
			</div>
			<script>
				let infoShown = false;
				function toggleInfo() {
					infoShown = !infoShown;
					document.getElementById("info").toggleAttribute("hidden", infoShown);
					document.getElementById("toggle_info").innerHTML = infoShown ? "?" : "X";
				}
				toggleInfo();
				function deleteAllLocalStorage() {
					if (confirm("This will delete everything! Are you sure?")) {
						if (confirm("I'm dead serious, all of it - gone.")) {
							localStorage.clear();
							editor.checkStorage();
							editor.renderList();
						} else {
							alert("That's good, you had me worried there!");
						}
					} else {
						alert("Well don't press the button then.");
					}
				}
			</script>
		</aside>
	</body>
</html>
